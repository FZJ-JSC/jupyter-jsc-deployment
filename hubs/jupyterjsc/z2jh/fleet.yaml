defaultnamespace: jupyter
labels:
  app: jupyterjsc
  component: z2jh
kustomize:
  dir: ./kustomize
helm:
  releaseName: jupyterhub-jupyterjsc
  repo: https://jupyterhub.github.io/helm-chart/
  chart: jupyterhub
  version: 3.1.0
  values:
    nameOverride: "jupyterjsc"
    fullnameOverride: "jupyterjsc"
    ingress:
      # Set JupyterHub in maintenance:
      #   Set enabled here to false, update ingress in maintenance/fleet.yaml
      enabled: true
    hub:
      image:
        pullPolicy: "Always"
        pullSecrets:
          - "gitlab-registry"
        name: registry.jsc.fz-juelich.de/jupyterjsc/k8s/images/jhub
        tag: "devel"
      resources: {}

    proxy:
      chp:
        resources: {}
  valuesFiles:
    - ../../base-values/common.yaml
    - ../../base-values/proxy.yaml
    - ../../base-values/hub/config.yaml
    - ../../base-values/hub/extraConfig.yaml
    - ../../base-values/hub/extraContainers.yaml
    - ../../base-values/hub/extraVolumeMounts.yaml
    - ../../base-values/hub/extraVolumes.yaml
    - ../../base-values/hub/initContainers.yaml
    - ../../base-values/hub/others.yaml
    - ../../base-values/hub/services.yaml
  valuesFrom:
    - configMapKeyRef:
        name: jupyterjsc-values
        namespace: jupyter
        key: values.yaml

dependsOn:
  - selector:
      matchLabels:
        app: jupyterjsc
        component: custom